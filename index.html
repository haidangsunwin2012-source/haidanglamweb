l<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Hyper Jump</title>

<style>
body{
    margin:0;
    background:linear-gradient(#020b3d,#000);
    color:#fff;
    text-align:center;
    font-family:Arial;
    overflow:hidden;
}

h1{color:#00ffff;text-shadow:0 0 10px cyan;}
h2{color:red}

#score{margin:5px;font-size:18px}

canvas{
    background:#000;
    border:3px solid cyan;
    box-shadow:0 0 20px cyan;
    width:95%;
    max-width:900px;
    height:260px;
}

#jumpBtn{
    position:fixed;
    bottom:110px;
    left:50%;
    transform:translateX(-50%);
    padding:18px 40px;
    font-size:20px;
    border-radius:40px;
    background:cyan;
    color:#000;
    border:none;
    z-index:5;
}

/* ===== LỚP PHỦ ===== */
.overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    z-index:10;
}

.hidden{
    display:none;
}

button{
    padding:12px 30px;
    font-size:18px;
    border-radius:10px;
    border:none;
}
</style>
</head>

<body>

<h1>HYPER JUMP</h1>
<div id="score">⭐ Điểm: 0</div>

<canvas id="game" width="900" height="260"></canvas>

<button id="jumpBtn">⬆️ NHẢY</button>

<div id="start" class="overlay">
    <h2>CHẠM ĐỂ BẮT ĐẦU</h2>
    <button onclick="startGame()">START</button>
</div>

<div id="over" class="overlay hidden">
    <h2>GAME OVER</h2>
    <button onclick="startGame()">Chơi lại</button>
</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

let dino={x:80,y:190,w:70,h:70,vy:0};
let gravity=0.7;
let jumpPower=14;
let speed=6;

let spike={x:900,w:40,h:60};
let score=0;
let run=false;

function startGame(){
    score=0;
    dino.y=190;
    dino.vy=0;
    spike.x=900;
    run=true;
    document.getElementById("start").classList.add("hidden");
    document.getElementById("over").classList.add("hidden");
}

function jump(){
    if(dino.y>=190 && run){
        dino.vy=-jumpPower;
    }
}

document.getElementById("jumpBtn").addEventListener("click",jump);
document.addEventListener("touchstart",jump);

function update(){
    if(!run) return;

    dino.vy+=gravity;
    dino.y+=dino.vy;
    if(dino.y>190){dino.y=190;dino.vy=0;}

    spike.x-=speed;
    if(spike.x<-spike.w){
        spike.x=450;
        score++;
    }

    if(
        dino.x<spike.x+spike.w &&
        dino.x+dino.w>spike.x &&
        dino.y+dino.h>200-spike.h
    ){
        run=false;
        document.getElementById("over").classList.remove("hidden");
    }

    document.getElementById("score").innerText="⭐ Điểm: "+score;
}

function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    ctx.fillStyle="#fff";
    ctx.fillRect(dino.x,dino.y,dino.w,dino.h);

    ctx.fillStyle="red";
    ctx.fillRect(spike.x,200-spike.h,spike.w,spike.h);
}

function loop(){
    update();
    draw();
    requestAnimationFrame(loop);
}
loop();
</script>

</body>
</html>
