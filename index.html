<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hyper Jump - Vượt Ngục Gai</title>

<style>
body{
    margin:0;
    font-family:Arial;
    background:linear-gradient(#020b3d,#000);
    color:#fff;
    text-align:center;
}

h1{color:#00ffff;text-shadow:0 0 10px #00ffff;}
h2{color:red;margin-top:-10px;}
#author{font-size:12px;opacity:0.8}

#gameWrap{
    width:95%;
    max-width:900px;
    margin:10px auto;
    padding:10px;
}

canvas{
    background:#000;
    border:3px solid cyan;
    box-shadow:0 0 20px cyan;
    width:100%;
    height:260px;
}

#score{margin:8px;font-size:18px}

#jumpBtn{
    position:fixed;
    bottom:120px;
    left:50%;
    transform:translateX(-50%);
    padding:18px 35px;
    font-size:20px;
    border-radius:40px;
    background:cyan;
    color:#000;
    border:none;
    box-shadow:0 0 15px cyan;
}

#startScreen, #gameOver{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.8);
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
}

.hidden{display:none}

button{
    padding:10px 25px;
    font-size:18px;
    border-radius:8px;
    border:none;
}
</style>
</head>

<body>

<h1>HYPER JUMP</h1>
<h2>VƯỢT NGỤC GAI</h2>
<div id="author">GAME DO HẢI ĐĂNG TẠO</div>

<div id="score">⭐ Điểm: 0</div>

<div id="gameWrap">
    <canvas id="game" width="900" height="260"></canvas>
</div>

<button id="jumpBtn">⬆️ NHẢY</button>

<div id="startScreen">
    <h2>CHẠM ĐỂ BẮT ĐẦU</h2>
    <button onclick="startGame()">START</button>
</div>

<div id="gameOver" class="hidden">
    <h2 style="color:red">GAME OVER</h2>
    <button onclick="startGame()">Chơi lại</button>
</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

let dinoImg=new Image();
dinoImg.src="dino.png";

let dino={x:80,y:190,w:70,h:70,vy:0};
let gravity=0.7;
let jumpPower=14;
let speed=6;

let spike={x:900,w:40,h:60};
let score=0;
let running=false;

function startGame(){
    score=0;
    dino.y=190;
    dino.vy=0;
    spike.x=900;
    running=true;
    document.getElementById("startScreen").classList.add("hidden");
    document.getElementById("gameOver").classList.add("hidden");
}

function jump(){
    if(dino.y>=190){
        dino.vy=-jumpPower;
    }
}

document.getElementById("jumpBtn").onclick=jump;
document.body.onkeydown=e=>{if(e.code==="Space")jump();}

function update(){
    if(!running) return;

    dino.vy+=gravity;
    dino.y+=dino.vy;
    if(dino.y>190){dino.y=190;dino.vy=0;}

    spike.x-=speed;
    if(spike.x<-spike.w){
        spike.x=420+Math.random()*60;
        score++;
    }

    if(
        dino.x<spike.x+spike.w &&
        dino.x+dino.w>spike.x &&
        dino.y+dino.h>200-spike.h
    ){
        running=false;
        document.getElementById("gameOver").classList.remove("hidden");
        canvas.style.transform="translateX(5px)";
        setTimeout(()=>canvas.style.transform="translateX(-5px)",50);
        setTimeout(()=>canvas.style.transform="translateX(0)",100);
    }

    document.getElementById("score").innerText="⭐ Điểm: "+score;
}

function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.drawImage(dinoImg,dino.x,dino.y,dino.w,dino.h);
    ctx.fillStyle="red";
    ctx.fillRect(spike.x,200-spike.h,spike.w,spike.h);
}

function loop(){
    update();
    draw();
    requestAnimationFrame(loop);
}
loop();
</script>

</body>
</html>
