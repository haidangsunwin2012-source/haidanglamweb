<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hyper Jump - Vượt Ngục Gai</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:linear-gradient(#050b4d,#02042a);
    color:white;
    text-align:center;
}

h1{
    margin-top:10px;
    color:#00ffff;
    text-shadow:0 0 10px cyan;
}

h2{
    color:red;
    margin:5px 0;
}

#author{
    font-size:12px;
    opacity:0.8;
}

#score{
    margin:8px;
    font-size:18px;
}

#gameBox{
    display:flex;
    justify-content:center;
    margin-top:10px;
}

canvas{
    background:black;
    border:3px solid cyan;
    box-shadow:0 0 25px cyan;
    width:98%;
    max-width:1200px;
    height:360px;
}

#jumpBtn{
    margin:25px auto;
    padding:15px 40px;
    font-size:20px;
    border:none;
    border-radius:30px;
    background:cyan;
    color:black;
    box-shadow:0 0 20px cyan;
}
</style>
</head>

<body>

<h1>HYPER JUMP</h1>
<h2>VƯỢT NGỤC GAI</h2>
<div id="author">GAME DO HẢI ĐĂNG TẠO</div>
<div id="score">⭐ Điểm: <span id="point">0</span></div>

<div id="gameBox">
<canvas id="game" width="1200" height="360"></canvas>
</div>

<button id="jumpBtn">⬆ NHẢY</button>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let dino = {x:60,y:260,w:50,h:50,vy:0};
let spike = {x:1200,y:290,w:30,h:40};
let gravity = 1;
let jumping = false;
let speed = 7;
let score = 0;
let gameOver = false;

function drawDino(){
    ctx.fillStyle="white";
    ctx.fillRect(dino.x,dino.y,dino.w,dino.h);
}

function drawSpike(){
    ctx.fillStyle="red";
    ctx.beginPath();
    ctx.moveTo(spike.x, spike.y+spike.h);
    ctx.lineTo(spike.x+spike.w/2, spike.y);
    ctx.lineTo(spike.x+spike.w, spike.y+spike.h);
    ctx.fill();
}

function update(){
    if(gameOver) return;

    ctx.clearRect(0,0,canvas.width,canvas.height);

    dino.y += dino.vy;
    dino.vy += gravity;

    if(dino.y >= 260){
        dino.y = 260;
        dino.vy = 0;
        jumping = false;
    }

    spike.x -= speed;
    if(spike.x < -spike.w){
        spike.x = 420 + Math.random()*50;
        score++;
        document.getElementById("point").innerText = score;
    }

    if(
        dino.x < spike.x + spike.w &&
        dino.x + dino.w > spike.x &&
        dino.y < spike.y + spike.h &&
        dino.y + dino.h > spike.y
    ){
        gameOver = true;
        showGameOver();
    }

    drawDino();
    drawSpike();
    requestAnimationFrame(update);
}

function jump(){
    if(!jumping && !gameOver){
        dino.vy = -16;
        jumping = true;
    }
}

function showGameOver(){
    ctx.fillStyle="rgba(0,0,0,0.7)";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="red";
    ctx.font="40px Arial";
    ctx.fillText("GAME OVER", canvas.width/2-130, canvas.height/2-20);

    ctx.fillStyle="white";
    ctx.font="22px Arial";
    ctx.fillText("Chơi lại", canvas.width/2-35, canvas.height/2+20);

    canvas.onclick = ()=>{
        location.reload();
    }
}

document.getElementById("jumpBtn").onclick = jump;
document.addEventListener("keydown", e=>{
    if(e.code==="Space") jump();
});

update();
</script>

</body>
</html>
